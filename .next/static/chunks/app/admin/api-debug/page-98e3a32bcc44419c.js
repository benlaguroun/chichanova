(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1611],{2118:(e,r,s)=>{Promise.resolve().then(s.bind(s,721))},721:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o});var t=s(5155),i=s(2115),n=s(4085),a=s(5007),l=s(4505),d=s(1594),c=s(3920);function o(){let[e,r]=(0,i.useState)(!0),[s,o]=(0,i.useState)(!1),[u,h]=(0,i.useState)(null),[f,x]=(0,i.useState)(null),[m,p]=(0,i.useState)(null),[y,v]=(0,i.useState)({});return(0,i.useEffect)(()=>{(async()=>{try{r(!0);let e=await fetch("/api/test-env"),s=await e.json();o(s.apiKeyExists),v(s);let t=await fetch("/api/printify/get-shop-id"),i=await t.json();h(i.shopId);let n=await fetch("/api/printify/products"),a=await n.json();x(a),a.error&&p(a.error)}catch(e){p(e instanceof Error?e.message:"Unknown error occurred")}finally{r(!1)}})()},[]),(0,t.jsxs)("div",{className:"container py-12",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"API Debug Page"}),e?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(l.A,{className:"h-8 w-8 animate-spin text-primary mr-2"}),(0,t.jsx)("span",{children:"Loading API diagnostics..."})]}):(0,t.jsxs)("div",{className:"grid gap-6",children:[(0,t.jsxs)(a.Zp,{children:[(0,t.jsxs)(a.aR,{children:[(0,t.jsx)(a.ZB,{children:"Environment Configuration"}),(0,t.jsx)(a.BT,{children:"Status of your API configuration"})]}),(0,t.jsx)(a.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"API Key:"}),(0,t.jsx)("span",{children:s?"✅ Set":"❌ Not Set"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"API Key First Chars:"}),(0,t.jsx)("span",{children:y.apiKeyFirstChars||"Not available"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Shop ID:"}),(0,t.jsx)("span",{children:u||"Not found"})]}),m&&(0,t.jsx)("div",{className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300 p-3 rounded-md",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(d.A,{className:"h-5 w-5 mr-2"}),(0,t.jsxs)("span",{children:["Error: ",m]})]})})]})}),(0,t.jsx)(a.wL,{children:(0,t.jsx)(n.$,{onClick:()=>{window.location.reload()},children:"Refresh"})})]}),(0,t.jsxs)(a.Zp,{children:[(0,t.jsxs)(a.aR,{children:[(0,t.jsx)(a.ZB,{children:"Products API Response"}),(0,t.jsx)(a.BT,{children:"Raw response from the products API"})]}),(0,t.jsx)(a.Wu,{children:(0,t.jsx)("div",{className:"bg-secondary p-4 rounded-md overflow-auto max-h-96",children:(0,t.jsx)("pre",{className:"text-xs",children:JSON.stringify(f,null,2)})})}),(0,t.jsx)(a.wL,{children:(0,t.jsxs)(n.$,{variant:"outline",onClick:()=>navigator.clipboard.writeText(JSON.stringify(f,null,2)),className:"flex items-center",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Copy Response"]})})]}),(0,t.jsxs)(a.Zp,{children:[(0,t.jsxs)(a.aR,{children:[(0,t.jsx)(a.ZB,{children:"Troubleshooting Steps"}),(0,t.jsx)(a.BT,{children:"Try these steps to resolve API issues"})]}),(0,t.jsx)(a.Wu,{children:(0,t.jsxs)("ol",{className:"list-decimal pl-5 space-y-2",children:[(0,t.jsxs)("li",{children:["Verify that your ",(0,t.jsx)("code",{children:"PRINTIFY_API_KEY"})," is correctly set in your Vercel environment variables."]}),(0,t.jsx)("li",{children:"Check that your API key has the correct permissions in Printify."}),(0,t.jsx)("li",{children:"Verify that your Printify shop is active and has products."}),(0,t.jsx)("li",{children:"Try regenerating your API key in Printify if you continue to have issues."}),(0,t.jsx)("li",{children:"Check the browser console for any CORS or network errors."}),(0,t.jsx)("li",{children:"Ensure your Vercel deployment has finished building completely."}),(0,t.jsxs)("li",{children:["Visit the"," ",(0,t.jsx)("a",{href:"/admin/printify-status",className:"text-primary hover:underline",children:"Printify Status"})," ","page for more detailed diagnostics."]})]})})]})]})]})}},4085:(e,r,s)=>{"use strict";s.d(r,{$:()=>c});var t=s(5155),i=s(2115),n=s(2317),a=s(1027),l=s(9602);let d=(0,a.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,r)=>{let{className:s,variant:i,size:a,asChild:c=!1,...o}=e,u=c?n.DX:"button";return(0,t.jsx)(u,{className:(0,l.cn)(d({variant:i,size:a,className:s})),ref:r,...o})});c.displayName="Button"},5007:(e,r,s)=>{"use strict";s.d(r,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>a,aR:()=>l,wL:()=>u});var t=s(5155),i=s(2115),n=s(9602);let a=i.forwardRef((e,r)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...i})});a.displayName="Card";let l=i.forwardRef((e,r)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...i})});l.displayName="CardHeader";let d=i.forwardRef((e,r)=>{let{className:s,...i}=e;return(0,t.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...i})});d.displayName="CardTitle";let c=i.forwardRef((e,r)=>{let{className:s,...i}=e;return(0,t.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",s),...i})});c.displayName="CardDescription";let o=i.forwardRef((e,r)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",s),...i})});o.displayName="CardContent";let u=i.forwardRef((e,r)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",s),...i})});u.displayName="CardFooter"},9602:(e,r,s)=>{"use strict";s.d(r,{cn:()=>n});var t=s(3463),i=s(9795);function n(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,i.QP)((0,t.$)(r))}},7401:(e,r,s)=>{"use strict";s.d(r,{A:()=>d});var t=s(2115);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return r.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)((e,r)=>{let{color:s="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:c="",children:o,iconNode:u,...h}=e;return(0,t.createElement)("svg",{ref:r,...a,width:i,height:i,stroke:s,strokeWidth:d?24*Number(l)/Number(i):l,className:n("lucide",c),...h},[...u.map(e=>{let[r,s]=e;return(0,t.createElement)(r,s)}),...Array.isArray(o)?o:[o]])}),d=(e,r)=>{let s=(0,t.forwardRef)((s,a)=>{let{className:d,...c}=s;return(0,t.createElement)(l,{ref:a,iconNode:r,className:n("lucide-".concat(i(e)),d),...c})});return s.displayName="".concat(e),s}},1594:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(7401).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3920:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(7401).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},4505:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(7401).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1027:(e,r,s)=>{"use strict";s.d(r,{F:()=>a});var t=s(3463);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=t.$,a=(e,r)=>s=>{var t;if((null==r?void 0:r.variants)==null)return n(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:a,defaultVariants:l}=r,d=Object.keys(a).map(e=>{let r=null==s?void 0:s[e],t=null==l?void 0:l[e];if(null===r)return null;let n=i(r)||i(t);return a[e][n]}),c=s&&Object.entries(s).reduce((e,r)=>{let[s,t]=r;return void 0===t||(e[s]=t),e},{});return n(e,d,null==r?void 0:null===(t=r.compoundVariants)||void 0===t?void 0:t.reduce((e,r)=>{let{class:s,className:t,...i}=r;return Object.entries(i).every(e=>{let[r,s]=e;return Array.isArray(s)?s.includes({...l,...c}[r]):({...l,...c})[r]===s})?[...e,s,t]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}},e=>{var r=r=>e(e.s=r);e.O(0,[1345,8441,1517,7358],()=>r(2118)),_N_E=e.O()}]);