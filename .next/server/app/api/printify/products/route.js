(()=>{var r={};r.id=402,r.ids=[402],r.modules={846:r=>{"use strict";r.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:r=>{"use strict";r.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:r=>{"use strict";r.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:r=>{"use strict";r.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:r=>{"use strict";r.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},9119:(r,t,e)=>{"use strict";e.r(t),e.d(t,{patchFetch:()=>l,routeModule:()=>u,serverHooks:()=>y,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>h});var o={};e.r(o),e.d(o,{GET:()=>p});var i=e(2706),s=e(8203),n=e(5994),a=e(9187),c=e(9572);async function p(){try{let r=process.env.PRINTIFY_API_KEY||"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIzN2Q0YmQzMDM1ZmUxMWU5YTgwM2FiN2VlYjNjY2M5NyIsImp0aSI6ImE2YTUxZWU0NGI5NTE3OTFiZjU3ZmY3YWQ5ZTI2ZjE1MDcxMWQwOWRhMmJjYmI4NzRmNDJlY2Q0OWNlMmJmMzcwOThiYWZkNzE1ZjNjMDM2IiwiaWF0IjoxNzQxOTA0MDA3LjMxNTgzOCwibmJmIjoxNzQxOTA0MDA3LjMxNTg0LCJleHAiOjE3NzM0NDAwMDcuMzAyODczLCJzdWIiOiIyMjM0ODY3OCIsInNjb3BlcyI6WyJzaG9wcy5tYW5hZ2UiLCJzaG9wcy5yZWFkIiwiY2F0YWxvZy5yZWFkIiwib3JkZXJzLnJlYWQiLCJvcmRlcnMud3JpdGUiLCJwcm9kdWN0cy5yZWFkIiwicHJvZHVjdHMud3JpdGUiLCJ3ZWJob29rcy5yZWFkIiwid2ViaG9va3Mud3JpdGUiLCJ1cGxvYWRzLnJlYWQiLCJ1cGxvYWRzLndyaXRlIiwicHJpbnRfcHJvdmlkZXJzLnJlYWQiLCJ1c2VyLmluZm8iXX0.AGFSpmTqgbNgL2MR1tMeO5m8MrrBjNr3tK--2bD5urJLxkqnv-ZfiY0UwNluUJRanhEzbmTdApEWUn1rFhs",t=process.env.PRINTIFY_SHOP_ID;t||(t=await (0,c.Cj)(r));let e=await (0,c.d$)(t,r);return a.NextResponse.json({products:e})}catch(r){return console.error("Error in API route:",r),a.NextResponse.json({error:"Failed to fetch products from Printify"},{status:500})}}let u=new i.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/printify/products/route",pathname:"/api/printify/products",filename:"route",bundlePath:"app/api/printify/products/route"},resolvedPagePath:"/Users/mohamedben/Desktop/chichanova/app/api/printify/products/route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:d,workUnitAsyncStorage:h,serverHooks:y}=u;function l(){return(0,n.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:h})}},6487:()=>{},8335:()=>{},9572:(r,t,e)=>{"use strict";e.d(t,{Cj:()=>i,d$:()=>s,fS:()=>a,oo:()=>n,y0:()=>c});let o="https://api.printify.com/v1";async function i(r){try{let t=await fetch(`${o}/shops.json`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!t.ok)throw Error(`Failed to fetch shops: ${t.status}`);let e=await t.json();if(!e.data||0===e.data.length)throw Error("No shops found for this API key");return e.data[0].id}catch(r){throw console.error("Error fetching shop ID from Printify:",r),r}}async function s(r,t){try{let e=await fetch(`${o}/shops/${r}/products.json`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!e.ok)throw Error(`Failed to fetch products: ${e.status}`);return(await e.json()).data}catch(r){throw console.error("Error fetching products from Printify:",r),r}}async function n(r,t,e){try{let i=await fetch(`${o}/shops/${r}/products/${t}.json`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!i.ok)throw Error(`Failed to fetch product: ${i.status}`);return await i.json()}catch(r){throw console.error(`Error fetching product ${t} from Printify:`,r),r}}async function a(r,t,e){try{let i=await fetch(`${o}/shops/${r}/orders.json`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!i.ok)throw Error(`Failed to create order: ${i.status}`);return await i.json()}catch(r){throw console.error("Error creating order with Printify:",r),r}}async function c(r,t,e,i){try{let s=await fetch(`${o}/shops/${r}/shipping_rates.json`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({address:t,line_items:e})});if(!s.ok)throw Error(`Failed to get shipping rates: ${s.status}`);return await s.json()}catch(r){throw console.error("Error fetching shipping rates from Printify:",r),r}}}};var t=require("../../../../webpack-runtime.js");t.C(r);var e=r=>t(t.s=r),o=t.X(0,[638,452],()=>e(9119));module.exports=o})();