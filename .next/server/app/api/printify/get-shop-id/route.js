(()=>{var t={};t.id=551,t.ids=[551],t.modules={846:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:t=>{"use strict";t.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:t=>{"use strict";t.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:t=>{"use strict";t.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},4883:(t,r,e)=>{"use strict";e.r(r),e.d(r,{patchFetch:()=>l,routeModule:()=>h,serverHooks:()=>f,workAsyncStorage:()=>u,workUnitAsyncStorage:()=>d});var o={};e.r(o),e.d(o,{GET:()=>c});var s=e(2706),n=e(8203),i=e(5994),a=e(9187),p=e(9572);async function c(){try{let t=process.env.PRINTIFY_API_KEY;if(!t)return a.NextResponse.json({error:"PRINTIFY_API_KEY environment variable is not set"},{status:400});let r=await (0,p.Cj)(t);return a.NextResponse.json({shopId:r})}catch(t){return console.error("Error in API route:",t),a.NextResponse.json({error:"Failed to fetch shop ID from Printify"},{status:500})}}let h=new s.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/printify/get-shop-id/route",pathname:"/api/printify/get-shop-id",filename:"route",bundlePath:"app/api/printify/get-shop-id/route"},resolvedPagePath:"/Users/mohamedben/Desktop/chichanova/app/api/printify/get-shop-id/route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:u,workUnitAsyncStorage:d,serverHooks:f}=h;function l(){return(0,i.patchFetch)({workAsyncStorage:u,workUnitAsyncStorage:d})}},6487:()=>{},8335:()=>{},9572:(t,r,e)=>{"use strict";e.d(r,{Cj:()=>s,d$:()=>n,fS:()=>a,oo:()=>i,y0:()=>p});let o="https://api.printify.com/v1";async function s(t){try{let r=await fetch(`${o}/shops.json`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)throw Error(`Failed to fetch shops: ${r.status}`);let e=await r.json();if(!e.data||0===e.data.length)throw Error("No shops found for this API key");return e.data[0].id}catch(t){throw console.error("Error fetching shop ID from Printify:",t),t}}async function n(t,r){try{let e=await fetch(`${o}/shops/${t}/products.json`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!e.ok)throw Error(`Failed to fetch products: ${e.status}`);return(await e.json()).data}catch(t){throw console.error("Error fetching products from Printify:",t),t}}async function i(t,r,e){try{let s=await fetch(`${o}/shops/${t}/products/${r}.json`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!s.ok)throw Error(`Failed to fetch product: ${s.status}`);return await s.json()}catch(t){throw console.error(`Error fetching product ${r} from Printify:`,t),t}}async function a(t,r,e){try{let s=await fetch(`${o}/shops/${t}/orders.json`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok)throw Error(`Failed to create order: ${s.status}`);return await s.json()}catch(t){throw console.error("Error creating order with Printify:",t),t}}async function p(t,r,e,s){try{let n=await fetch(`${o}/shops/${t}/shipping_rates.json`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({address:r,line_items:e})});if(!n.ok)throw Error(`Failed to get shipping rates: ${n.status}`);return await n.json()}catch(t){throw console.error("Error fetching shipping rates from Printify:",t),t}}}};var r=require("../../../../webpack-runtime.js");r.C(t);var e=t=>r(r.s=t),o=r.X(0,[638,452],()=>e(4883));module.exports=o})();